{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/extends\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"/Users/nakasoneryouta/Desktop/sample_reactnative/node_modules/react-native-3dcube-navigation/src/Horizontal.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\nimport PanResponder from \"react-native-web/dist/exports/PanResponder\";\nimport Animated from \"react-native-web/dist/exports/Animated\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\n\nvar _Dimensions$get = Dimensions.get(\"window\"),\n    width = _Dimensions$get.width,\n    height = _Dimensions$get.height;\n\nvar PESPECTIVE = Platform.OS === \"ios\" ? 2.38 : 1.7;\nvar TR_POSITION = Platform.OS === \"ios\" ? 2 : 1.5;\n\nvar CubeNavigationHorizontal = function (_React$Component) {\n  _inherits(CubeNavigationHorizontal, _React$Component);\n\n  var _super = _createSuper(CubeNavigationHorizontal);\n\n  function CubeNavigationHorizontal(_props) {\n    var _this;\n\n    _classCallCheck(this, CubeNavigationHorizontal);\n\n    _this = _super.call(this, _props);\n\n    _this._getTransformsFor = function (i) {\n      var scrollX = _this._animatedValue.x;\n      var pageX = -width * i;\n      var translateX = scrollX.interpolate({\n        inputRange: [pageX - width, pageX, pageX + width],\n        outputRange: [(-width - 1) / TR_POSITION, 0, (width + 1) / TR_POSITION],\n        extrapolate: \"clamp\"\n      });\n      var rotateY = scrollX.interpolate({\n        inputRange: [pageX - width, pageX, pageX + width],\n        outputRange: [\"-60deg\", \"0deg\", \"60deg\"],\n        extrapolate: \"clamp\"\n      });\n      var translateXAfterRotate = scrollX.interpolate({\n        inputRange: [pageX - width, pageX, pageX + width],\n        inputRange: [pageX - width, pageX - width + 0.1, pageX, pageX + width - 0.1, pageX + width],\n        outputRange: [-width - 1, (-width - 1) / PESPECTIVE, 0, (width + 1) / PESPECTIVE, +width + 1],\n        extrapolate: \"clamp\"\n      });\n      var opacity = scrollX.interpolate({\n        inputRange: [pageX - width, pageX - width + 10, pageX, pageX + width - 250, pageX + width],\n        outputRange: [0, 0.6, 1, 0.6, 0],\n        extrapolate: \"clamp\"\n      });\n      return {\n        transform: [{\n          perspective: width\n        }, {\n          translateX: translateX\n        }, {\n          rotateY: rotateY\n        }, {\n          translateX: translateXAfterRotate\n        }],\n        opacity: opacity\n      };\n    };\n\n    _this._renderChild = function (child, i) {\n      var expandStyle = _this.props.expandView ? {\n        paddingTop: 100,\n        paddingBottom: 100,\n        height: height + 200\n      } : {\n        width: width,\n        height: height\n      };\n      var style = [child.props.style, expandStyle];\n      var props = {\n        i: i,\n        style: style\n      };\n      var element = React.cloneElement(child, props);\n      return React.createElement(Animated.View, {\n        style: [StyleSheet.absoluteFill, {\n          backgroundColor: \"yellow\"\n        }, _this._getTransformsFor(i, false)],\n        key: \"child- \" + i,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 7\n        }\n      }, element);\n    };\n\n    _this._closest = function (num) {\n      var array = _this.pages;\n      var i = 0;\n      var minDiff = 1000;\n      var ans;\n\n      for (i in array) {\n        var m = Math.abs(num - array[i]);\n\n        if (m < minDiff) {\n          minDiff = m;\n          ans = array[i];\n        }\n      }\n\n      return ans;\n    };\n\n    _this.pages = _this.props.children.map(function (child, index) {\n      return width * -index;\n    });\n    _this.state = {\n      scrollLockPage: _this.pages[_this.props.scrollLockPage]\n    };\n    return _this;\n  }\n\n  _createClass(CubeNavigationHorizontal, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      var _this2 = this;\n\n      this._animatedValue = new Animated.ValueXY();\n\n      this._animatedValue.setValue({\n        x: 0,\n        y: 0\n      });\n\n      this._value = {\n        x: 0,\n        y: 0\n      };\n\n      this._animatedValue.addListener(function (value) {\n        _this2._value = value;\n      });\n\n      this._panResponder = PanResponder.create({\n        onMoveShouldSetResponderCapture: function onMoveShouldSetResponderCapture() {\n          return true;\n        },\n        onMoveShouldSetResponderCapture: function onMoveShouldSetResponderCapture() {\n          return Math.abs(gestureState.dx) > 60;\n        },\n        onMoveShouldSetPanResponderCapture: function onMoveShouldSetPanResponderCapture(evt, gestureState) {\n          return Math.abs(gestureState.dx) > 60;\n        }\n      });\n    }\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(props) {\n      this.setState({\n        scrollLockPage: props.scrollLockPage ? this.pages[props.scrollLockPage] : undefined\n      });\n    }\n  }, {\n    key: \"scrollTo\",\n    value: function scrollTo(page, animated) {\n      animated = animated == undefined ? true : animated;\n\n      if (animated) {\n        Animated.spring(this._animatedValue, {\n          toValue: {\n            x: this.pages[page],\n            y: 0\n          },\n          friction: 4,\n          tension: 0.8,\n          useNativeDriver: true\n        }).start();\n      } else {\n        this._animatedValue.setValue({\n          x: this.pages[page],\n          y: 0\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var expandStyle = this.props.expandView ? {\n        top: -100,\n        left: 0,\n        width: width,\n        height: height + 200\n      } : {\n        width: width,\n        height: height\n      };\n      return React.createElement(View, _extends({\n        style: [{\n          flex: 1\n        }],\n        ref: function ref(view) {\n          _this3._scrollView = view;\n        }\n      }, this._panResponder.panHandlers, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 7\n        }\n      }), this.props.children.map(this._renderChild));\n    }\n  }]);\n\n  return CubeNavigationHorizontal;\n}(React.Component);\n\nexport { CubeNavigationHorizontal as default };\nCubeNavigationHorizontal.propTypes = {\n  callBackAfterSwipe: PropTypes.func,\n  scrollLockPage: PropTypes.number,\n  expandView: PropTypes.bool\n};\nCubeNavigationHorizontal.defaultProps = {\n  expandView: false\n};","map":{"version":3,"sources":["/Users/nakasoneryouta/Desktop/sample_reactnative/node_modules/react-native-3dcube-navigation/src/Horizontal.js"],"names":["React","PropTypes","Dimensions","get","width","height","PESPECTIVE","Platform","OS","TR_POSITION","CubeNavigationHorizontal","props","_getTransformsFor","i","scrollX","_animatedValue","x","pageX","translateX","interpolate","inputRange","outputRange","extrapolate","rotateY","translateXAfterRotate","opacity","transform","perspective","_renderChild","child","expandStyle","expandView","paddingTop","paddingBottom","style","element","cloneElement","StyleSheet","absoluteFill","backgroundColor","_closest","num","array","pages","minDiff","ans","m","Math","abs","children","map","index","state","scrollLockPage","Animated","ValueXY","setValue","y","_value","addListener","value","_panResponder","PanResponder","create","onMoveShouldSetResponderCapture","gestureState","dx","onMoveShouldSetPanResponderCapture","evt","setState","undefined","page","animated","spring","toValue","friction","tension","useNativeDriver","start","top","left","flex","view","_scrollView","panHandlers","Component","propTypes","callBackAfterSwipe","func","number","bool","defaultProps"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport {\n  PanResponder,\n  Animated,\n  Dimensions,\n  StyleSheet,\n  Image,\n  View,\n  Text,\n  Platform,\n  ScrollView\n} from \"react-native\";\nconst { width, height } = Dimensions.get(\"window\");\n\nconst PESPECTIVE = Platform.OS === \"ios\" ? 2.38 : 1.7;\nconst TR_POSITION = Platform.OS === \"ios\" ? 2 : 1.5;\n\nexport default class CubeNavigationHorizontal extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.pages = this.props.children.map((child, index) => width * -index);\n\n    this.state = {\n      scrollLockPage: this.pages[this.props.scrollLockPage]\n    };\n  }\n\n  componentWillMount() {\n    this._animatedValue = new Animated.ValueXY();\n    this._animatedValue.setValue({ x: 0, y: 0 });\n    this._value = { x: 0, y: 0 };\n\n    this._animatedValue.addListener(value => {\n      this._value = value;\n    });\n\n    this._panResponder = PanResponder.create({\n      onMoveShouldSetResponderCapture: () => true,\n      onMoveShouldSetResponderCapture: () => Math.abs(gestureState.dx) > 60,\n      onMoveShouldSetPanResponderCapture: (evt, gestureState) =>\n        Math.abs(gestureState.dx) > 60,\n      // onPanResponderGrant: (e, gestureState) => {\n      //   this._animatedValue.stopAnimation();\n      //   this._animatedValue.setOffset({ x: this._value.x, y: this._value.y });\n      // },\n      // onPanResponderMove: (e, gestureState) => {\n      //   Animated.event([{ useNativeDriver: true }, { dx: this._animatedValue.x }])(e, gestureState);\n\n      //   // Avoid last movement\n      //   this.lockLast =\n      //     this.state.scrollLockPage != undefined\n      //       ? -this.state.scrollLockPage\n      //       : this.pages[this.pages.length - 1];\n      //   if (this._value.x > this.pages[0] || this._value.x < this.lockLast) {\n      //     this._animatedValue.setValue({ x: 0, y: 0 });\n      //   }\n      // },\n      // onPanResponderRelease: (e, gestureState) => {\n      //   let mod = gestureState.dx > 0 ? 100 : -100;\n\n      //   let goTo = this._closest(this._value.x + mod);\n      //   if (this.lockLast > goTo) return; //remove in the future\n      //   this._animatedValue.flattenOffset({\n      //     x: this._value.x,\n      //     y: this._value.y\n      //   });\n      //   Animated.spring(this._animatedValue, {\n      //     toValue: { x: goTo, y: 0 },\n      //     friction: 3,\n      //     tension: 0.6,\n      //     useNativeDriver: true,\n      //   }).start();\n      //   setTimeout(() => {\n      //     if (this.props.callBackAfterSwipe)\n      //       this.props.callBackAfterSwipe(goTo);\n      //   }, 500);\n      // }\n    });\n  }\n\n  componentWillReceiveProps(props) {\n    this.setState({\n      scrollLockPage: props.scrollLockPage\n        ? this.pages[props.scrollLockPage]\n        : undefined\n    });\n  }\n\n  /*\n    @page: index\n  */\n  scrollTo(page, animated) {\n    animated = animated == undefined ? true : animated;\n\n    if (animated) {\n      Animated.spring(this._animatedValue, {\n        toValue: { x: this.pages[page], y: 0 },\n        friction: 4,\n        tension: 0.8,\n        useNativeDriver: true\n      }).start();\n    } else {\n      this._animatedValue.setValue({ x: this.pages[page], y: 0 });\n    }\n  }\n\n  /*\n  Private methods\n  */\n\n  _getTransformsFor = i => {\n    let scrollX = this._animatedValue.x;\n    let pageX = -width * i;\n\n    let translateX = scrollX.interpolate({\n      inputRange: [pageX - width, pageX, pageX + width],\n      outputRange: [(-width - 1) / TR_POSITION, 0, (width + 1) / TR_POSITION],\n      extrapolate: \"clamp\"\n    });\n\n    let rotateY = scrollX.interpolate({\n      inputRange: [pageX - width, pageX, pageX + width],\n      outputRange: [\"-60deg\", \"0deg\", \"60deg\"],\n      extrapolate: \"clamp\"\n    });\n\n    let translateXAfterRotate = scrollX.interpolate({\n      inputRange: [pageX - width, pageX, pageX + width],\n      inputRange: [\n        pageX - width,\n        pageX - width + 0.1,\n        pageX,\n        pageX + width - 0.1,\n        pageX + width\n      ],\n      outputRange: [\n        -width - 1,\n        (-width - 1) / PESPECTIVE,\n        0,\n        (width + 1) / PESPECTIVE,\n        +width + 1\n      ],\n      extrapolate: \"clamp\"\n    });\n\n    let opacity = scrollX.interpolate({\n      inputRange: [\n        pageX - width,\n        pageX - width + 10,\n        pageX,\n        pageX + width - 250,\n        pageX + width\n      ],\n      outputRange: [0, 0.6, 1, 0.6, 0],\n      extrapolate: \"clamp\"\n    });\n\n    return {\n      transform: [\n        { perspective: width },\n        { translateX },\n        { rotateY: rotateY },\n        { translateX: translateXAfterRotate }\n      ],\n      opacity: opacity\n    };\n  };\n\n  _renderChild = (child, i) => {\n    let expandStyle = this.props.expandView\n      ? { paddingTop: 100, paddingBottom: 100, height: height + 200 }\n      : { width, height };\n    let style = [child.props.style, expandStyle];\n    let props = {\n      i,\n      style\n    };\n    let element = React.cloneElement(child, props);\n\n    return (\n      <Animated.View\n        style={[\n          StyleSheet.absoluteFill,\n          { backgroundColor: \"yellow\" },\n          this._getTransformsFor(i, false)\n        ]}\n        key={`child- ${i}`}\n      >\n        {element}\n      </Animated.View>\n    );\n  };\n\n  _closest = num => {\n    let array = this.pages;\n\n    let i = 0;\n    let minDiff = 1000;\n    let ans;\n    for (i in array) {\n      let m = Math.abs(num - array[i]);\n      if (m < minDiff) {\n        minDiff = m;\n        ans = array[i];\n      }\n    }\n    return ans;\n  };\n\n  render() {\n    let expandStyle = this.props.expandView\n      ? { top: -100, left: 0, width, height: height + 200 }\n      : { width, height };\n\n    return (\n      <View\n        style={[{ flex: 1}]}\n        ref={view => {\n          this._scrollView = view;\n        }}\n        {...this._panResponder.panHandlers}\n      >\n          {this.props.children.map(this._renderChild)}\n      </View>\n    );\n  }\n}\n\nCubeNavigationHorizontal.propTypes = {\n  callBackAfterSwipe: PropTypes.func,\n  scrollLockPage: PropTypes.number,\n  expandView: PropTypes.bool\n};\n\nCubeNavigationHorizontal.defaultProps = {\n  expandView: false\n};\n"]},"metadata":{},"sourceType":"module"}